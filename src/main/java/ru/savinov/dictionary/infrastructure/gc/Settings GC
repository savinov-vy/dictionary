Параметры для запуска вставляем в VM options intellij idea

-Xms512m   - стартовый объем памяти (-X - настройка jvm (-D системные переменные))
-Xmx512m   - максимальный объем памяти
-Xlog:gc=debug:file=./logs/gc-%p-%t.log:tags, uptime, time, level:filecount=5,filesize=10 (логируем gc в debug:file=куда писать, что логируем(level- мажор минор). не более 5 файлов величиной не более 10 Мб)
-XX:+HeapDumpOnOutOfMemoryError    сохраняем heap это на рабочем сервере (если упало то можно вытащить и посмотреть почему упало)
-XX:HeapDumpPath=./logs/dump       куда сохраняется dump heap
-XX:+UseG1GC                       явно указывается какой GC используется

========
tuning:
-XX:MaxGCPauseMillis=100000 - максимальное время остановки если сильно уменьшить например поставить 1мс то JVM не будет выделять много оперативной памяти т.к. не будет успевать её собрать

-Xms2048m
-Xmx2024m - не всегда выгодно увеличивать память т.к. чем больше объектов попадёт под сборку мусора тем дольше будет работать сборка мусора






контроль утечки памяти можно контроллировать программами:
VisualVM - входил в поставку в jdk с java 9 open source
jconsole (Java Monitoring & Management Console) - есть вкладка MBeans - позволяет изменять параметры работающего приложения на лету и видеть текущие значения переменных Более подробнее см. OTUS javaDev 7 Сборщик Мусора 1:16:00