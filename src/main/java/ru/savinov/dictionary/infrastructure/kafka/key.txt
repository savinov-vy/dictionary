Ключ

У сообщений в kafka может быть ключ. Ключ используется для дефолтного выбора партиций
от ключа берётся hash находится остаток от деления на количество партиций и, таким образом получается номер партиции
(логика как у hashmap) таким образом получается равномерное распределение по партициям,
но если ключ будет одинаковым то все сообщения будут попадать в одну партицию.
Так же Producer может явно выбрать партицию.